<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.uni.wt.project.model.dao.ProjectFileMapper">

<resultMap type="ProjectFile" id="projectFileSet">
	<id property="file_no" column="FILE_NO"/>
	<result property="board_no" column="BOARD_NO"/>
	<result property="upload_date" column="UPLOAD_DATE"/>
	<result property="origin_name" column="ORIGIN_NAME"/>
	<result property="change_name" column="CHANGE_NAME"/>
	<result property="path" column="PATH"/>
	<result property="img_path" column="IMG_PATH"/>
</resultMap>
	

<insert id="insertFile" parameterType="ProjectFile">
	INSERT INTO PJ_FILE
	VALUES(PJFILE_SEQ.NEXTVAL ,#{board_no}, SYSDATE, #{path}, #{img_path}, #{origin_name}, #{change_name})
</insert>
<select id="getFile" parameterType="int" resultMap="projectFileSet">
	SELECT *
	FROM PJ_FILE
	WHERE BOARD_NO = #{board_no}
</select>
	<delete id="deleteFile" parameterType="int">
		DELETE FROM PJ_FILE
		WHERE FILE_NO = #{file_no}
	</delete>
  
</mapper>
